# 实现浏览器主页工具组功能

## 1. 功能需求分析
- 允许用户将多个快捷方式组合成一个工具组
- 工具组在导航页面上以缩略图形式显示
- 点击工具组后展开显示所有包含的快捷方式
- 支持工具组的创建、编辑、删除
- 支持将普通项添加到工具组和从工具组中移除

## 2. 技术实现方案

### 2.1 数据结构修改
- 在`NavigationModel`类中，为导航项添加`type`字段（'item'或'group'）
- 为工具组添加`children`数组，存储包含的快捷方式ID
- 修改默认设置，添加一个示例工具组

### 2.2 UI组件设计
- **工具组项**：显示为包含子项图标的缩略图卡片
- **展开状态**：点击工具组后，在当前位置展开显示所有子项
- **折叠状态**：再次点击或点击其他区域时折叠回缩略图

### 2.3 核心功能实现

#### 2.3.1 渲染逻辑修改
- 修改`renderNavigationGrid`方法，根据`type`字段渲染不同组件
- 实现`renderGroupItem`方法，渲染工具组项
- 实现`renderGroupExpanded`方法，渲染展开状态的工具组

#### 2.3.2 交互功能
- 工具组点击事件：切换展开/折叠状态
- 右键菜单扩展：
  - 为普通项添加"添加到工具组"选项
  - 为工具组添加"编辑工具组"、"添加项"、"删除工具组"等选项

#### 2.3.3 数据管理
- 添加`addToolGroup`方法：创建新工具组
- 添加`addItemToGroup`方法：将项添加到工具组
- 添加`removeItemFromGroup`方法：从工具组移除项
- 修改`updateNavigationItem`、`deleteNavigationItem`等方法，支持工具组

### 2.4 CSS样式设计
- 为工具组项添加样式，包括缩略图布局
- 为展开状态的工具组添加样式
- 确保响应式设计兼容

## 3. 实现步骤

1. **修改数据模型**：
   - 更新`NavigationModel`类，添加工具组相关数据结构
   - 修改默认设置，添加示例工具组
   - 更新增删改查方法，支持工具组

2. **修改渲染逻辑**：
   - 更新`renderNavigationGrid`方法，支持工具组渲染
   - 实现工具组项和展开状态的渲染

3. **添加交互功能**：
   - 实现工具组点击展开/折叠
   - 扩展右键菜单，添加工具组相关操作
   - 实现工具组管理功能

4. **添加CSS样式**：
   - 为工具组添加基础样式
   - 为展开状态添加样式
   - 优化响应式设计

5. **测试和验证**：
   - 测试工具组的创建、编辑、删除
   - 测试普通项与工具组的关联
   - 测试展开/折叠功能
   - 验证数据持久化

## 4. 预期效果
- 用户可以创建工具组，将相关快捷方式组织在一起
- 工具组以缩略图形式显示，节省导航网格空间
- 点击工具组可以快速访问所有包含的快捷方式
- 支持灵活的工具组管理

## 5. 文件修改清单
- `script.js`：修改数据模型、渲染逻辑、交互功能
- `style.css`：添加工具组相关样式
- `index.html`：无需修改，通过JavaScript动态生成UI

## 6. 注意事项
- 确保向后兼容，现有数据不会丢失
- 保持UI设计一致性
- 确保响应式设计正常工作
- 优化性能，避免过多DOM操作