# 工具组功能开发计划

## 1. 数据模型扩展

### 1.1 扩展NavigationModel类
- 添加`toolGroups`数组到默认设置中，用于存储工具组数据
- 为每个工具组设计数据结构：`{ id: number, name: string, items: [{ id: number, name: string, url: string, icon: string }] }`
- 实现工具组相关的CRUD方法：
  - `getToolGroups()`：获取所有工具组
  - `addToolGroup(group)`：添加新工具组
  - `updateToolGroup(id, updates)`：更新工具组属性
  - `deleteToolGroup(id)`：删除工具组
  - `addItemToToolGroup(groupId, item)`：向工具组添加子项
  - `removeItemFromToolGroup(groupId, itemId)`：从工具组移除子项

## 2. UI组件设计

### 2.1 工具组缩略图
- 在导航网格中渲染工具组项，样式与普通快捷方式类似但带有特殊标识
- 缩略图显示工具组名称和包含的子项图标预览（最多显示4个）
- 为工具组项添加特殊的CSS类和数据属性

### 2.2 工具组展开面板
- 创建居中显示的模态面板，用于展示工具组内所有子项
- 面板包含标题栏（显示工具组名称和关闭按钮）
- 内部使用网格布局展示所有子项快捷方式
- 添加半透明背景遮罩效果

### 2.3 右键菜单扩展
- 为普通快捷方式添加"添加到工具组"选项
- 为工具组项添加专用右键菜单，包含：
  - 编辑工具组
  - 添加项
  - 删除项
  - 删除工具组

### 2.4 工具组管理界面
- 在设置面板的导航管理部分添加工具组管理功能
- 显示工具组列表，包含工具组名称和子项数量
- 提供创建、编辑、删除工具组的按钮

## 3. 事件处理

### 3.1 工具组点击事件
- 点击工具组缩略图时，显示展开面板
- 点击面板关闭按钮或背景遮罩时，隐藏面板

### 3.2 右键菜单事件
- 处理"添加到工具组"事件，弹出工具组选择对话框
- 处理工具组专用右键菜单的各项操作

### 3.3 工具组管理事件
- 处理工具组创建、编辑、删除事件
- 处理向工具组添加/移除子项的事件

## 4. 样式设计

### 4.1 工具组缩略图样式
- 设计工具组项的特殊样式，与普通快捷方式区分
- 实现子项图标预览的网格布局
- 添加悬停效果和交互反馈

### 4.2 工具组展开面板样式
- 设计居中模态面板的样式
- 实现半透明背景遮罩效果
- 为面板内的子项设计合适的布局和样式

### 4.3 工具组管理界面样式
- 为设置面板中的工具组管理部分添加样式
- 设计工具组列表项的样式，包含名称和子项数量

## 5. 实现步骤

1. 扩展数据模型，添加工具组相关的数据结构和方法
2. 更新UI组件，添加工具组缩略图和展开面板
3. 扩展右键菜单功能
4. 添加工具组管理界面
5. 实现事件处理逻辑
6. 添加样式设计
7. 测试和优化

## 6. 文件修改

- `script.js`：扩展NavigationModel类，添加工具组相关方法；修改NavigationApp类，添加工具组相关UI渲染和事件处理
- `style.css`：添加工具组相关样式
- `index.html`：添加工具组展开面板和相关HTML结构

## 7. 关键技术点

- 数据结构设计：工具组与子项的关系管理
- UI组件交互：工具组展开/折叠的流畅动画效果
- 右键菜单扩展：根据不同类型的项显示不同的右键菜单
- 数据持久化：确保工具组数据正确保存到localStorage

## 8. 预期效果

- 工具组以缩略图形式在导航页中显示，包含子项图标预览
- 点击工具组可展开查看所有子项，点击关闭按钮或背景可折叠
- 支持通过右键菜单将普通快捷方式添加到工具组
- 支持工具组的创建、编辑、删除和子项管理
- 所有功能交互流畅，视觉设计与现有界面风格保持一致