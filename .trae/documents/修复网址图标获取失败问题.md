# 修复网址图标获取失败问题

## 问题分析
根据日志信息 `net::ERR_FAILED https://www.google.com/s2/favicons?domain=www.baidu.com&sz=64` 和 `获取图标失败: TypeError: Failed to fetch`，分析出导致图标获取失败的主要原因：

1. **Google Favicon服务访问限制**：当前实现仅依赖Google Favicon服务，可能由于网络连接问题、跨域限制或服务端策略导致访问失败
2. **图标获取方式单一**：虽然有备选的直接访问favicon.ico的方式，但缺乏更多可靠的备选方案
3. **错误处理不够健壮**：无法区分不同类型的错误，不利于调试和用户体验

## 解决方案

### 1. 添加备选Favicon服务
- 添加DuckDuckGo Favicon服务作为备选：`https://icons.duckduckgo.com/ip3/${domain}.ico`
- 添加Yandex Favicon服务作为备选：`https://favicon.yandex.net/favicon/${domain}`

### 2. 优化图标获取逻辑
- 实现多服务轮询机制，依次尝试不同的Favicon服务
- 改进直接获取favicon.ico的逻辑，确保正确处理HTTPS/HTTP协议
- 添加从HTML页面提取图标的功能（解析rel="icon"和rel="shortcut icon"标签）

### 3. 增强错误处理
- 区分不同类型的错误（网络错误、超时、服务器错误等）
- 提供更详细的错误日志，便于调试
- 优化用户提示信息

### 4. 改进缓存机制
- 优化缓存策略，减少不必要的网络请求
- 添加缓存刷新机制

## 实施步骤

1. **修改`getFavicon`方法**：实现多服务轮询逻辑
2. **添加HTML图标提取功能**：新增从网页提取图标的方法
3. **优化`fetchWithTimeout`方法**：增强错误处理
4. **更新缓存机制**：改进缓存策略
5. **测试验证**：确保www.baidu.com等网站图标能正确获取

## 预期效果
- 成功获取www.baidu.com的网址图标
- 提高图标获取的成功率和可靠性
- 增强系统的容错能力
- 提供更好的用户体验